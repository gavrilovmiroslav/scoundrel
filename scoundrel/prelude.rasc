
tag ExitGame;
tag IsPlayer;

state HasGlyph { glyph: symbol, fg: color, bg: color };
state IsAt { position: point };

event KeyPress { key_name: text, action: text };

[Exit_On_Escape_Key]
on KeyPress(key="Escape", action="Released")
with .IsPlayer
{
    trigger ExitGame;
    consume event;
}

[Consume_Key_Press_At_End_Of_Frame]
on KeyPress(key, action)
with .IsPlayer
{
    print key;
    print action;
    consume event;
}